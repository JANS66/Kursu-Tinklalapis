{"ast":null,"code":"var _jsxFileName = \"/Users/Sabina/Desktop/Baigiamasis/Kursu-Tinklalapis/kursu-tinklalapis-frontend/src/components/Istorija.js\",\n  _s = $RefreshSig$();\n/* eslint-disable */\nimport React, { useEffect, useState } from 'react';\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\nimport { faPlus, faTimes } from '@fortawesome/free-solid-svg-icons';\nimport './Matematika.css';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nfunction Istorija(_ref) {\n  _s();\n  let {\n    isLoggedIn,\n    user\n  } = _ref;\n  const [courses, setCourses] = useState([]);\n  const [expandedCourseId, setExpandedCourseId] = useState(null);\n  const [buttonText, setButtonText] = useState('Dalyvauti');\n  const [buttonDisabled, setButtonDisabled] = useState(false);\n  useEffect(() => {\n    fetch('/courses').then(response => response.json()).then(data => setCourses(data.filter(course => course.subject === 'Istorija'))).catch(error => console.error(error));\n  }, []);\n  const toggleCourse = id => {\n    if (id === expandedCourseId) {\n      setExpandedCourseId(null);\n    } else {\n      setExpandedCourseId(id);\n    }\n  };\n  const handleButtonClick = courseId => {\n    if (!isLoggedIn) {\n      alert('Please log in or register to participate.');\n      return;\n    }\n    const userId = parseInt(localStorage.getItem('userId'));\n    const registration = {\n      courseId: parseInt(courseId),\n      userId: userId\n    };\n    setButtonDisabled(true);\n    const token = localStorage.getItem('token');\n    var registrationJson = JSON.stringify(registration);\n    fetch('/api/registrations', {\n      method: 'POST',\n      headers: {\n        'Content-Type': 'application/json',\n        'Authorization': `Bearer ${token}`\n      },\n      body: registrationJson\n    });\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"Matematika\",\n    children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n      className: \"title\",\n      children: \"Istorija\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 52,\n      columnNumber: 7\n    }, this), courses.map(course => {\n      return /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"course-container\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"course-header\",\n          onClick: () => toggleCourse(course.id),\n          children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n            className: \"description\",\n            children: course.description\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 57,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(FontAwesomeIcon, {\n            className: \"icon\",\n            icon: expandedCourseId === course.id ? faTimes : faPlus\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 58,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 56,\n          columnNumber: 13\n        }, this), expandedCourseId === course.id && /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"course-description\",\n          children: [\"Kurso profesorius - \", course.professorName, /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"button-container\",\n            children: /*#__PURE__*/_jsxDEV(\"button\", {\n              className: \"buttonsHomepage\",\n              onClick: () => handleButtonClick(course.id),\n              disabled: buttonDisabled,\n              children: buttonText\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 64,\n              columnNumber: 19\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 63,\n            columnNumber: 17\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 61,\n          columnNumber: 15\n        }, this)]\n      }, course.id, true, {\n        fileName: _jsxFileName,\n        lineNumber: 55,\n        columnNumber: 11\n      }, this);\n    })]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 51,\n    columnNumber: 5\n  }, this);\n}\n_s(Istorija, \"QXjiwlYzv9cCeO4q66HHJUcef5k=\");\n_c = Istorija;\nexport default Istorija;\nvar _c;\n$RefreshReg$(_c, \"Istorija\");","map":{"version":3,"names":["React","useEffect","useState","FontAwesomeIcon","faPlus","faTimes","jsxDEV","_jsxDEV","Istorija","_ref","_s","isLoggedIn","user","courses","setCourses","expandedCourseId","setExpandedCourseId","buttonText","setButtonText","buttonDisabled","setButtonDisabled","fetch","then","response","json","data","filter","course","subject","catch","error","console","toggleCourse","id","handleButtonClick","courseId","alert","userId","parseInt","localStorage","getItem","registration","token","registrationJson","JSON","stringify","method","headers","body","className","children","fileName","_jsxFileName","lineNumber","columnNumber","map","onClick","description","icon","professorName","disabled","_c","$RefreshReg$"],"sources":["/Users/Sabina/Desktop/Baigiamasis/Kursu-Tinklalapis/kursu-tinklalapis-frontend/src/components/Istorija.js"],"sourcesContent":["/* eslint-disable */\nimport React, { useEffect, useState } from 'react';\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\nimport { faPlus, faTimes } from '@fortawesome/free-solid-svg-icons';\nimport './Matematika.css';\n\nfunction Istorija({isLoggedIn, user }) {\n  const [courses, setCourses] = useState([]);\n  const [expandedCourseId, setExpandedCourseId] = useState(null);\n  const [buttonText, setButtonText] = useState('Dalyvauti');\n  const [buttonDisabled, setButtonDisabled] = useState(false);\n  \n  useEffect(() => {\n    fetch('/courses')\n      .then(response => response.json())\n      .then(data => setCourses(data.filter(course => course.subject === 'Istorija')))\n      .catch(error => console.error(error));\n  }, []);\n\n  const toggleCourse = (id) => {\n    if (id === expandedCourseId) {\n      setExpandedCourseId(null);\n    } else {\n      setExpandedCourseId(id);\n    }\n  };\n\n  const handleButtonClick = (courseId) => {\n    if (!isLoggedIn) {\n      alert('Please log in or register to participate.');\n      return;\n    }\n\n    const userId = parseInt(localStorage.getItem('userId')); \n\n    const registration = { courseId: parseInt(courseId), userId: userId };\n    setButtonDisabled(true);\n    const token = localStorage.getItem('token');\n    var registrationJson = JSON.stringify(registration);\n    fetch('/api/registrations', {\n      method: 'POST',\n      headers: {\n        'Content-Type': 'application/json',\n        'Authorization': `Bearer ${token}`,\n      },\n      body: registrationJson,\n    })\n  };\n  \n  return (\n    <div className=\"Matematika\">\n      <h2 className='title'>Istorija</h2>\n      {courses.map(course => {\n        return (\n          <div key={course.id} className=\"course-container\">\n            <div className=\"course-header\" onClick={() => toggleCourse(course.id)}>\n              <h3 className=\"description\">{course.description}</h3>\n              <FontAwesomeIcon className='icon' icon={expandedCourseId === course.id ? faTimes : faPlus} />\n            </div>\n            {expandedCourseId === course.id && (\n              <div className=\"course-description\">\n                Kurso profesorius - {course.professorName}\n                <div className=\"button-container\">\n                  <button className=\"buttonsHomepage\" onClick={() => handleButtonClick(course.id)} disabled={buttonDisabled}>\n                    {buttonText}\n                  </button>\n                </div>\n              </div>\n            )}\n          </div>\n        );\n      })}\n    </div>\n  );\n}\n\nexport default Istorija;"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}